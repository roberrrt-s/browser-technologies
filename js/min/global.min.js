!function(){var e={init:function(){for(var e=document.querySelectorAll(".invisible"),t=0;t<e.length;t++)e[t].setAttribute("class","alpha");var r=document.querySelectorAll(".fallback"),n=document.querySelector("button");n.parentNode.removeChild(n),console.log(r.length);for(var t=0;t<r.length;t++)r[t].parentNode.removeChild(r[t])}},t={init:function(){for(var e=this,t=document.getElementsByClassName("alpha"),r=0;r<t.length;r++)t[r].addEventListener("dragstart",e.start,!1),t[r].addEventListener("dragenter",e.enter,!1),t[r].addEventListener("dragover",e.over,!1),t[r].addEventListener("dragleave",e.leave,!1),t[r].addEventListener("drop",e.drop,!1),t[r].addEventListener("dragend",e.end,!1)},start:function(e){t.src=this,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",this.innerHTML)},over:function(e){return e.preventDefault&&e.preventDefault(),this.classList.add("over"),e.dataTransfer.dropEffect="move",!1},drop:function(e){if(e.stopPropagation&&e.stopPropagation(),this.classList.remove("over"),t.src!=this){var r=t.src.parentNode;this.parentNode.insertBefore(t.src,this),r.appendChild(this)}return!1},leave:function(){this.classList.remove("over")},src:null},r={init:function(){for(var e=this,t=document.getElementsByClassName("alpha"),r=0;r<t.length;r++)t[r].addEventListener("click",e.element,!1),t[r].addEventListener("onkeydown",e.tab,!1)},element:function(e){if(r.src){var t=r.src.parentNode;e.target.parentNode.insertBefore(r.src,e.target),t.appendChild(e.target),r.src=null}else"true"==e.target.getAttribute("draggable")&&(r.src=e.target)},tab:function(e){if(console.log("HELLO"),13!==!e.keyCode)return console.log("not enter"),!1;if(r.src){var t=r.src.parentNode;e.target.parentNode.insertBefore(r.src,e.target),t.appendChild(e.target),r.src=null}else"true"==e.target.getAttribute("draggable")&&(r.src=e.target)},src:null};e.init(),t.init(),r.init()}();
